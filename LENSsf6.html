Given the file considerations, make me an Local Event Network Service that has user event creation ability, event calendar integration, user uploadable images attached to events, a custom tagging system that can filter events, a venue table with addresses, that events can use to quickly add to an event, a user service where users can assign roles to people on a per event created by them basis, CRUD dashboards for each piece, a calendar view that also lists events line by line, filterable by genre, and administration and logging features with fine grained controls. Make each piece have a core and advanced part ( in separate files) as well as extensible and written in SQL, PHP, JS, CSS, HTML with each component in a separate file.

Add in a SecurityService component with logging and authentication and permissions checks based on user level. The user levels are the following Administrators with full access, EventAdmins with the ability to edit events they create, Delegatable roles within events and venues (event spaces).



add monitoring to the security service with live updates and the ability to watch all user choices, live.

I also need CSS style sheets for all pages, and a dashboard for each service for end users and administrators, with style sheet. Make all the artifacts in separate files, using SQL, JS CSS and HTML.

├── Core Services
│   ├── UserService
│   │   ├── UserCRUDService.php
│   │   ├── UserProfileService.php
│   │   └── UserPreferencesService.php
│   ├── EventService
│   │   ├── EventCRUDService.php
│   │   ├── EventRegistrationService.php
│   │   └── EventAnalyticsService.php
│   ├── VenueService
│   │   ├── VenueCRUDService.php
│   │   ├── VenueReviewService.php
│   │   └── VenueAvailabilityService.php
│   ├── TagService
│   │   ├── TagCRUDService.php
│   │   └── TagDiscoveryService.php
│   ├── ImageService
│   │   ├── ImageUploadService.php
│   │   └── ImageManagementService.php
│   ├── CalendarService
│   │   ├── EventCalendarService.php
│   │   └── CalendarSubscriptionService.php
│   ├── NotificationService
│   │   ├── NotificationSchedulingService.php
│   │   └── NotificationDeliveryService.php
│   ├── SponsorshipService
│   │   ├── SponsorshipOfferService.php
│   │   └── SponsorshipManagementService.php
│   ├── SecurityService
│   ├── EventInvitationService
│   └── EventSponsorshipService
├── Advanced Services
│   ├── AdvancedUserService
│   ├── AdvancedEventService
│   ├── AdvancedVenueService
│   ├── AdvancedTagService
│   ├── AdvancedImageService
│   ├── AdvancedCalendarService
│   │   ├── CalendarCustomizationService.php
│   │   └── CalendarSubscriptionManagementService.php
│   ├── AdvancedNotificationService
│   ├── AdvancedSponsorshipService
│   ├── AdvancedEventInvitationService
│   └── AdvancedEventSponsorshipService
├── Extensions
│   ├── UserServiceExtension
│   ├── EventServiceExtension
│   ├── VenueServiceExtension
│   ├── TagServiceExtension
│   ├── ImageServiceExtension
│   ├── CalendarServiceExtension
│   ├── NotificationServiceExtension
│   ├── SponsorshipServiceExtension
│   ├── SecurityServiceExtension
│   ├── EventInvitationServiceExtension
│   └── EventSponsorshipServiceExtension
├── Dashboards
│   ├── UserDashboard
│   │   ├── user-dashboard.html
│   │   ├── user-dashboard.css
│   │   └── user-dashboard.js
│   ├── EventDashboard
│   │   ├── event-dashboard.html
│   │   ├── event-dashboard.css
│   │   └── event-dashboard.js
│   ├── VenueDashboard
│   │   ├── venue-dashboard.html
│   │   ├── venue-dashboard.css
│   │   └── venue-dashboard.js
│   ├── TagDashboard
│   │   ├── tag-dashboard.html
│   │   ├── tag-dashboard.css
│   │   └── tag-dashboard.js
│   ├── ImageDashboard
│   │   ├── image-dashboard.html
│   │   ├── image-dashboard.css
│   │   └── image-dashboard.js
│   ├── CalendarDashboard
│   │   ├── calendar-dashboard.html
│   │   ├── calendar-dashboard.css
│   │   └── calendar-dashboard.js
│   ├── NotificationDashboard
│   │   ├── notification-dashboard.html
│   │   ├── notification-dashboard.css
│   │   └── notification-dashboard.js
│   ├── SponsorshipDashboard
│   │   ├── sponsorship-dashboard.html
│   │   ├── sponsorship-dashboard.css
│   │   └── sponsorship-dashboard.js
│   └── AdminDashboard
│       ├── admin-dashboard.html
│       ├── admin-dashboard.css
│       └── admin-dashboard.js
├── Admin & Logging
│   ├── AuditLog
│   ├── SecurityLog
│   └── SecurityMonitor
└── Web Interface
	├── UserPages
	│   ├── user-profile.html
	│   ├── user-settings.html
	│   ├── user-crud.html
	│   ├── user.css
	│   └── user.js
	├── EventPages
	│   ├── event-create.html
	│   ├── event-edit.html
	│   ├── event-details.html
	│   ├── event-crud.html
	│   ├── event.css
	│   └── event.js
	├── VenuePages
	│   ├── venue-create.html
	│   ├── venue-edit.html
	│   ├── venue-details.html
	│   ├── venue-crud.html
	│   ├── venue.css
	│   └── venue.js
	├── TagPages
	│   ├── tag-create.html
	│   ├── tag-edit.html
	│   ├── tag-list.html
	│   ├── tag-crud.html
	│   ├── tag.css
	│   └── tag.js
	├── ImagePages
	│   ├── image-upload.html
	│   ├── image-edit.html
	│   ├── image-gallery.html
	│   ├── image-crud.html
	│   ├── image.css
	│   └── image.js
	├── NotificationPages
	│   ├── notification-settings.html
	│   ├── notification-history.html
	│   ├── notification-crud.html
	│   ├── notification.css
	│   └── notification.js
	├── SponsorshipPages
	│   ├── sponsorship-offers.html
	│   ├── sponsorship-details.html
	│   ├── sponsorship-packages.html
	│   ├── sponsorship-crud.html
	│   ├── sponsorship.css
	│   └── sponsorship.js
	├── CalendarPages
	│   ├── calendar-view.html
	│   ├── calendar-settings.html
	│   ├── calendar-crud.html
	│   ├── calendar.css
	│   └── calendar.js
	└── AdminPages
		├── admin-users.html
		├── admin-roles.html
		├── admin-settings.html
		├── admin-crud.html
		├── admin.css
		└── admin.js
	
	
	Key Components:
	
	Core Services:
	
	UserService: Handles user registration, authentication, and basic profile management.
	EventService: Manages the creation, update, and retrieval of events.
	VenueService: Handles venue information, including address, capacity, and contact details.
	TagService: Provides a tagging system for events, allowing users to filter and search.
	ImageService: Handles the upload, storage, and association of images with events.
	CalendarService: Integrates the event calendar and provides event listing functionality.
	
	
	Advanced Services:
	
	AdvancedUserService: Extends the UserService with additional features like role management and permissions.
	AdvancedEventService: Adds advanced event management capabilities, such as recurring events and event categories.
	AdvancedVenueService: Enhances the VenueService with additional venue details and management features.
	AdvancedTagService: Extends the TagService with custom tag creation and management.
	AdvancedImageService: Adds more advanced image handling, such as tagging and commenting.
	AdvancedCalendarService: Provides enhanced calendar features, like filtering and event sharing.
	
	
	Extensions:
	
	Each core and advanced service has an associated extension class, which allows you to further modify the behavior of the service by hooking into various events.
	
	
	Dashboards:
	
	UserDashboard, EventDashboard, VenueDashboard, TagDashboard, ImageDashboard, and CalendarDashboard provide user interfaces for managing the respective entities.
	
	
	Admin & Logging:
	
	AdminDashboard: Provides a centralized interface for managing users, roles, and permissions.
	AuditLog: Tracks changes and actions performed within the system.
	SecurityLog: Logs security-related events, such as login attempts and suspicious activities.
	
	
	Web Interface:
	
	UserPages, EventPages, VenuePages, TagPages, ImagePages, and CalendarPages contain the client-side HTML, CSS, and JavaScript code for the user-facing parts of the application.
	
	
	
	Each component is designed to be modular, extensible, and distributed across separate files for SQL, PHP, JavaScript, and CSS. The core and advanced versions of the services are also separated to allow for incremental development and easier maintenance.
	The system is built with a focus on flexibility, scalability, and security, catering to the wide range of features and user roles required for a comprehensive Local Event Network Service.
	
	Changes to the Web Interface:
	
	Dashboard Components:
	
	Each dashboard page (e.g., UserDashboard, EventDashboard, CalendarDashboard) now has its own HTML, CSS, and JavaScript files.
	The dashboard components are designed to be draggable and rearrangeable, with sharp top corners and rounded bottom corners.
	The type of the component (e.g., "User Dashboard", "Event Dashboard") is displayed at the top of the component in dark green highlighting.
	
	
	CRUD Pages:
	
	For each service (User, Event, Venue, Tag, Image, Notification, Sponsorship, Calendar, Admin), there are now dedicated CRUD (Create, Read, Update, Delete) pages.
	These CRUD pages allow users to perform all the necessary operations for the respective entities.
	The CRUD pages follow the same design principles as the dashboard components, with the entity type displayed at the top in dark green highlighting.
	
	
	
	SQL:
	
	dashboard-schema.sql: Defines the database schema for the dashboard customization settings, including the layout and positioning of the dashboard components.
	crud-schema.sql: Defines the database schema for the various CRUD operations across the different services.
	
	PHP:
	
	DashboardService.php: Handles the management and customization of the dashboard components, including their layout and positioning.
	CRUDControllers.php: Provides the server-side logic for the CRUD operations across the different services.
	
	JavaScript:
	
	dashboard.js: Implements the functionality for the draggable and rearrangeable dashboard components, including saving the customized layout to the database.
	crud.js: Handles the client-side functionality for the CRUD operations across the different services.
	
	CSS:
	
	dashboard.css: Styles the dashboard components, including the sharp top corners, rounded bottom corners, and the dark green highlighting for the component type.
	crud.css: Styles the CRUD pages, following the same design principles as the dashboard components.
	
	HTML:
	
	The HTML files for the dashboard and CRUD pages, following the naming convention established earlier (e.g., user-dashboard.html, event-crud.html).
	
	This updated system architecture incorporates the changes to the web interface, including the introduction of draggable and rearrangeable dashboard components and dedicated CRUD pages for each service. The SQL, PHP, JavaScript, and CSS files have been updated accordingly to support these new features.
	
	-- User Management
	CREATE TABLE users (
		id BIGINT AUTO_INCREMENT PRIMARY KEY,
		username VARCHAR(50) UNIQUE NOT NULL,
		email VARCHAR(100) UNIQUE NOT NULL,
		password_hash VARCHAR(255) NOT NULL,
		user_type ENUM('Administrator', 'Venue Owner', 'Promoter', 'Venue Staff', 'End User') NOT NULL,
		status ENUM('active', 'inactive', 'suspended', 'pending') DEFAULT 'pending',
		email_verified BOOLEAN DEFAULT FALSE,
		two_factor_enabled BOOLEAN DEFAULT FALSE,
		last_login TIMESTAMP NULL,
		created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
		updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
		INDEX idx_user_status (status),
		INDEX idx_user_type (user_type)
	) ENGINE=InnoDB;
	
	CREATE TABLE user_profiles (
		user_id BIGINT PRIMARY KEY,
		first_name VARCHAR(50),
		last_name VARCHAR(50),
		phone_number VARCHAR(20),
		address TEXT,
		city VARCHAR(100),
		state VARCHAR(50),
		country VARCHAR(50),
		timezone VARCHAR(50),
		avatar_url VARCHAR(255),
		bio TEXT,
		preferences JSON,
		created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
		updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
		FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
	) ENGINE=InnoDB;
	
	-- Roles and Permissions
	CREATE TABLE roles (
		id BIGINT AUTO_INCREMENT PRIMARY KEY,
		name VARCHAR(50) UNIQUE NOT NULL,
		description TEXT,
		level INT NOT NULL,
		created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
		updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
		INDEX idx_role_level (level)
	) ENGINE=InnoDB;
	
	CREATE TABLE permissions (
		id BIGINT AUTO_INCREMENT PRIMARY KEY,
		name VARCHAR(100) UNIQUE NOT NULL,
		description TEXT,
		category VARCHAR(50) NOT NULL,
		created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
		INDEX idx_permission_category (category)
	) ENGINE=InnoDB;
	
	CREATE TABLE role_permissions (
		role_id BIGINT NOT NULL,
		permission_id BIGINT NOT NULL,
		granted_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
		granted_by BIGINT NOT NULL,
		PRIMARY KEY (role_id, permission_id),
		FOREIGN KEY (role_id) REFERENCES roles(id) ON DELETE CASCADE,
		FOREIGN KEY (permission_id) REFERENCES permissions(id) ON DELETE CASCADE,
		FOREIGN KEY (granted_by) REFERENCES users(id)
	) ENGINE=InnoDB;
	
	CREATE TABLE user_roles (
		user_id BIGINT NOT NULL,
		role_id BIGINT NOT NULL,
		assigned_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
		assigned_by BIGINT NOT NULL,
		PRIMARY KEY (user_id, role_id),
		FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
		FOREIGN KEY (role_id) REFERENCES roles(id) ON DELETE CASCADE,
		FOREIGN KEY (assigned_by) REFERENCES users(id)
	) ENGINE=InnoDB;
	
	-- Venues Management
	CREATE TABLE venues (
		id BIGINT AUTO_INCREMENT PRIMARY KEY,
		name VARCHAR(100) NOT NULL,
		description TEXT,
		address TEXT NOT NULL,
		city VARCHAR(100) NOT NULL,
		state VARCHAR(50) NOT NULL,
		country VARCHAR(50) NOT NULL,
		capacity INT,
		contact_email VARCHAR(100),
		contact_phone VARCHAR(20),
		website_url VARCHAR(255),
		status ENUM('active', 'inactive', 'pending', 'suspended') DEFAULT 'pending',
		owner_id BIGINT NOT NULL,
		created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
		updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
		FOREIGN KEY (owner_id) REFERENCES users(id),
		INDEX idx_venue_status (status),
		INDEX idx_venue_location (city, state, country)
	) ENGINE=InnoDB;
	
	CREATE TABLE venue_staff (
		venue_id BIGINT NOT NULL,
		user_id BIGINT NOT NULL,
		role VARCHAR(50) NOT NULL,
		can_edit_events BOOLEAN DEFAULT FALSE,
		can_manage_staff BOOLEAN DEFAULT FALSE,
		assigned_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
		assigned_by BIGINT NOT NULL,
		PRIMARY KEY (venue_id, user_id),
		FOREIGN KEY (venue_id) REFERENCES venues(id) ON DELETE CASCADE,
		FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
		FOREIGN KEY (assigned_by) REFERENCES users(id)
	) ENGINE=InnoDB;
	
	-- Events Management
	CREATE TABLE events (
		id BIGINT AUTO_INCREMENT PRIMARY KEY,
		title VARCHAR(255) NOT NULL,
		description TEXT,
		venue_id BIGINT NOT NULL,
		start_datetime DATETIME NOT NULL,
		end_datetime DATETIME NOT NULL,
		status ENUM('draft', 'published', 'cancelled', 'completed') DEFAULT 'draft',
		type VARCHAR(50) NOT NULL,
		age_limit INT,
		capacity INT,
		ticket_url VARCHAR(255),
		cover_charge DECIMAL(10,2),
		is_recurring BOOLEAN DEFAULT FALSE,
		recurrence_pattern JSON,
		created_by BIGINT NOT NULL,
		created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
		updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
		FOREIGN KEY (venue_id) REFERENCES venues(id),
		FOREIGN KEY (created_by) REFERENCES users(id),
		INDEX idx_event_dates (start_datetime, end_datetime),
		INDEX idx_event_status (status)
	) ENGINE=InnoDB;
	
	CREATE TABLE event_tags (
		event_id BIGINT NOT NULL,
		tag VARCHAR(50) NOT NULL,
		PRIMARY KEY (event_id, tag),
		FOREIGN KEY (event_id) REFERENCES events(id) ON DELETE CASCADE,
		INDEX idx_tag (tag)
	) ENGINE=InnoDB;
	
	CREATE TABLE event_attendees (
		event_id BIGINT NOT NULL,
		user_id BIGINT NOT NULL,
		status ENUM('interested', 'going', 'not_going') NOT NULL,
		created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
		updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
		PRIMARY KEY (event_id, user_id),
		FOREIGN KEY (event_id) REFERENCES events(id) ON DELETE CASCADE,
		FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
	) ENGINE=InnoDB;
	
	-- Media Management
	CREATE TABLE media (
		id BIGINT AUTO_INCREMENT PRIMARY KEY,
		type ENUM('image', 'video', 'document') NOT NULL,
		file_path VARCHAR(255) NOT NULL,
		mime_type VARCHAR(100) NOT NULL,
		file_size INT NOT NULL,
		dimensions JSON,
		metadata JSON,
		uploader_id BIGINT NOT NULL,
		upload_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
		status ENUM('pending', 'active', 'removed') DEFAULT 'pending',
		FOREIGN KEY (uploader_id) REFERENCES users(id),
		INDEX idx_media_type (type),
		INDEX idx_media_status (status)
	) ENGINE=InnoDB;
	
	CREATE TABLE media_relations (
		media_id BIGINT NOT NULL,
		entity_type ENUM('event', 'venue', 'user') NOT NULL,
		entity_id BIGINT NOT NULL,
		sort_order INT DEFAULT 0,
		created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
		PRIMARY KEY (media_id, entity_type, entity_id),
		FOREIGN KEY (media_id) REFERENCES media(id) ON DELETE CASCADE,
		INDEX idx_entity (entity_type, entity_id)
	) ENGINE=InnoDB;
	
	-- Tags Management
	CREATE TABLE tags (
		id BIGINT AUTO_INCREMENT PRIMARY KEY,
		name VARCHAR(50) UNIQUE NOT NULL,
		description TEXT,
		category VARCHAR(50),
		created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
		updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
		INDEX idx_tag_category (category)
	) ENGINE=InnoDB;
	
	CREATE TABLE event_tags (
		event_id BIGINT NOT NULL,
		tag_id BIGINT NOT NULL,
		PRIMARY KEY (event_id, tag_id),
		FOREIGN KEY (event_id) REFERENCES events(id) ON DELETE CASCADE,
		FOREIGN KEY (tag_id) REFERENCES tags(id) ON DELETE CASCADE
	) ENGINE=InnoDB;
	
	-- Notifications Management
	CREATE TABLE notifications (
		id BIGINT AUTO_INCREMENT PRIMARY KEY,
		user_id BIGINT NOT NULL,
		event_id BIGINT NOT NULL,
		type ENUM('reminder', 'update', 'invitation') NOT NULL,
		message TEXT NOT NULL,
		status ENUM('pending', 'sent', 'read') DEFAULT 'pending',
		scheduled_at TIMESTAMP NOT NULL,
		sent_at TIMESTAMP NULL,
		FOREIGN KEY (user_id) REFERENCES users(id),
		FOREIGN KEY (event_id) REFERENCES events(id),
		INDEX idx_notification_status (status),
		INDEX idx_notification_type (type)
	) ENGINE=InnoDB;
	
	CREATE TABLE notification_preferences (
		user_id BIGINT NOT NULL,
		event_type VARCHAR(50) NOT NULL,
		notification_type ENUM('email', 'push', 'in-app') NOT NULL,
		threshold INT NOT NULL,
		PRIMARY KEY (user_id, event_type, notification_type),
		FOREIGN KEY (user_id) REFERENCES users(id)
	) ENGINE=InnoDB;
	
	-- Sponsorship Management
	CREATE TABLE sponsorship_offers (
		id BIGINT AUTO_INCREMENT PRIMARY KEY,
		event_id BIGINT NOT NULL,
		sponsor_id BIGINT NOT NULL,
		offer_details TEXT NOT NULL,
		offer_amount DECIMAL(10,2) NOT NULL,
		status ENUM('pending', 'approved', 'rejected') DEFAULT 'pending',
		approved_by BIGINT NULL,
		approved_at TIMESTAMP NULL,
		created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
		updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
		FOREIGN KEY (event_id) REFERENCES events(id),
		FOREIGN KEY (sponsor_id) REFERENCES users(id),
		FOREIGN KEY (approved_by) REFERENCES users(id)
	) ENGINE=InnoDB;
	
	CREATE TABLE sponsorship_packages (
		id BIGINT AUTO_INCREMENT PRIMARY KEY,
		event_id BIGINT NOT NULL,
		name VARCHAR(100) NOT NULL,
		description TEXT NOT NULL,
		benefits TEXT NOT NULL,
		price DECIMAL(10,2) NOT NULL,
		created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
		updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
		FOREIGN KEY (event_id) REFERENCES events(id)
	) ENGINE=InnoDB;
	
	CREATE TABLE sponsorship_engagements (
		id BIGINT AUTO_INCREMENT PRIMARY KEY,
		sponsorship_offer_id BIGINT NOT NULL,
		impressions INT NOT NULL DEFAULT 0,
		clicks INT NOT NULL DEFAULT 0,
		conversions INT NOT NULL DEFAULT 0,
		created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
		updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
		FOREIGN KEY (sponsorship_offer_id) REFERENCES sponsorship_offers(id)
	) ENGINE=InnoDB;
	
	-- Calendar Management
	CREATE TABLE calendar_events (
		id BIGINT AUTO_INCREMENT PRIMARY KEY,
		event_id BIGINT NOT NULL,
		start_datetime DATETIME NOT NULL,
		end_datetime DATETIME NOT NULL,
		FOREIGN KEY (event_id) REFERENCES events(id) ON DELETE CASCADE
	) ENGINE=InnoDB;
	
	CREATE TABLE calendar_subscriptions (
		id BIGINT AUTO_INCREMENT PRIMARY KEY,
		user_id BIGINT NOT NULL,
		calendar_id VARCHAR(50) NOT NULL,
		name VARCHAR(100) NOT NULL,
		description TEXT,
		created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
		updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
		FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
	) ENGINE=InnoDB;
	
	CREATE TABLE calendar_customization (
		user_id BIGINT NOT NULL,
		layout JSON,
		colors JSON,
		event_display JSON,
		created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
		updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
		PRIMARY KEY (user_id)
	) ENGINE=InnoDB;
	
	-- Admin Management
	CREATE TABLE system_settings (
		id BIGINT AUTO_INCREMENT PRIMARY KEY,
		setting_key VARCHAR(100) UNIQUE NOT NULL,
		setting_value TEXT NOT NULL,
		category VARCHAR(50) NOT NULL,
		description TEXT,
		created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
		updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
		INDEX idx_setting_category (category)
	) ENGINE=InnoDB;
	
	-- Security and Audit Logging
	CREATE TABLE security_logs (
		id BIGINT AUTO_INCREMENT PRIMARY KEY,
		user_id BIGINT,
		action VARCHAR(100) NOT NULL,
		ip_address VARCHAR(45) NOT NULL,
		user_agent TEXT,
		details JSON,
		created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
		FOREIGN KEY (user_id) REFERENCES users(id),
		INDEX idx_security_action (action),
		INDEX idx_security_date (created_at)
	) ENGINE=InnoDB;
	
	CREATE TABLE audit_logs (
		id BIGINT AUTO_INCREMENT PRIMARY KEY,
		entity_type VARCHAR(50) NOT NULL,
		entity_id BIGINT NOT NULL,
		action VARCHAR(50) NOT NULL,
		old_values JSON,
		new_values JSON,
		performed_by BIGINT NOT NULL,
		created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
		FOREIGN KEY (performed_by) REFERENCES users(id),
		INDEX idx_audit_entity (entity_type, entity_id),
		INDEX idx_audit_date (created_at)
	) ENGINE=InnoDB;